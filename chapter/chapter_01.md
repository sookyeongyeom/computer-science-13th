# CHAPTER 01 데이터의 저장

## 1.1 비트의 저장

0과 1들의 패턴 = 비트 (Binary digit)  

비트는 숫자가 아니라 당면 응용에 따라 의미가 달라지는 기호다.  
때로 비트 패턴은 숫자를 나타내기도 하고, 알파벳 문자나 구두점, 이미지나 소리를 나타내기도 한다.

### 부울 연산

0 = 거짓  
1 = 참

1. AND
2. OR
3. XOR : 입력이 서로 다를 때 참을 출력한다.
4. NOT : 단항연산자

### 게이트와 플립플롭

부울 연산의 입력이 주어질 때 연산 결과를 출력하는 장치를 게이트 또는 논리 게이트라고 부른다.  
오늘날의 컴퓨터 안에 사용되는 게이트는 대개 전압 수준에 따라 숫자 0과 1을 나타내는 트랜지스터(작은 전자 스위치 회로)로 만들어져있다.

아래 그림은 AND, OR, XOR, NOT을 위한 게이트 기호다.   

<img src="https://user-images.githubusercontent.com/98504939/170563128-aa56474c-6b33-43f0-8d53-6ad32bc36166.jpg" width=30%>

플립플롭(Flip-flop)은 게이트를 조합하여 만든 하드웨어 부품으로, 컴퓨터 메모리의 기본 단위다.  
플립플롭은 0 또는 1을 출력값으로 가지며, 펄스 신호를 받을 때까지 출력값을 일정하게 유지하는 회로다.  
즉, 외부 자극의 제어 하에 출력이 0이 되었다 1이 되었다 하며, 컴퓨터 안에서 하나의 비트를 저장하는 수단이 된다.

아래 그림은 간단한 플립플롭 회로다.

<img src="https://user-images.githubusercontent.com/98504939/170564089-791b0530-7950-49cb-a450-f71778e1616a.jpg" width=30%>

컴퓨터 엔지니어는 플립플롭 안에 실제 어떤 회로가 사용되는지에 대해 알아야 할 필요는 없다.  
대신 플립플롭은 추상적 도구로 사용하기 위해 플립플롭의 외적 성질만 이해하면 된다.  

### 16진법

긴 비트열은 스트림(Stream)이라고도 불리는데, 가독성이 매우 낮기 때문에 사람이 직접 스트림을 다루는 것은 쉽지 않다.  
따라서 비트 패턴의 표현을 쉽게 하기 위해 사용하는 것이 16진법(Hexadecimal notation)이라는 간의 표기법이다.  
이것은 컴퓨터 내부에서 비트 패턴의 길이는 대개 4의 배수라는 사실을 이용한 것으로, 16진법은 4비트 패턴의 표시에 기호 하나를 사용한다.  

예를 들어,  
1010 0100 1100 1000은   
A4C8로 줄여서 나타낼 수 있다.

## 1.2 주기억장치

데이터 저장을 위해 컴퓨터는 한 개의 비트를 저장할 수 있는 (플립플롭과 같은) 수많은 회로들을 포함하고 있다.  
이러한 비트 저장소를 컴퓨터의 주기억장치(Main memory)라고 한다.

### 메모리의 구성
주기억장치는 셀(Cell)이라고 불리는 관리하기 쉬운 단위로 조직되는데, 셀의 크기는 대개 8비트(=1바이트)다.  
데스크톱 컴퓨터나 스마트폰의 경우 주기억장치 안에 수십억개의 셀을 가질 수도 있다.

메모리 셀 안의 비트들이 한 줄에 배열되어 있다고 간주하여,  
이 줄의 왼쪽 끝을 상단(High-order end), 오른쪽 끝을 하단(Low-order end)이라고 부른다.  

또한, 가장 왼쪽 비트를 상위(High-order) 비트 또는 최상위 비트(Most Significant Bit)라고 부른다.     
가장 오른쪽 비트는 하위(Lower-order) 비트 또는 최하위 비트(Least Significant Bit)라고 부른다.

주기억장치 안에 있는 개별 셀들을 식별하기 위해, 각 셀에는 고유한 이름이 지정되는데, 이를 주소(Address)라고 부른다.  
주소를 배정할 때는 모든 셀이 한 줄로 배열되어있고 그 순서대로 0에서 시작하는 번호가 부여되는 것으로 간주한다.  
이러한 주소 체계를 사용함으로써 각 셀을 구분할 수 있을 뿐만 아니라, 셀들의 순서도 정해진다.  
따라서 '다음 셀' 또는 '이전 셀'과 같은 표현을 쓸 수 있다.  

셀들과 각 셀 안에 비트들에 순서를 부여함으로써,   
주기억장치 안의 모든 비트들이 길게 일렬로 배열되어있는 것으로 생각할 수 있다.  
따라서 이 긴 줄의 어느 부분을 사용하여 하나의 셀보다 긴 비트 패턴을 저장할 수 있다.

실제 비트들을 저장하는 회로는 셀에 데이터를 저장하거나 셀에서 데이터를 읽어내기 위해 필요한 회로들과 결합되어 있다.  
다른 회로들에서 특정 주소의 내용을 전자적으로 요청함으로써 데이터를 읽을 수도 있고,   
특정 주소에 위치한 셀 안에 특정 비트 패턴을 저장하도록 요청함으로써 정보를 기록할 수도 있다.

임의의 순서로 셀들에 접근할 수 있다는 점을 반영하여,  
컴퓨터의 주기억장치는 흔히 RAM(Random Access Memory, 임의 접근 메모리)이라고 불린다.  
주기억장치의 임의접근성은 대용량 저장장치와 뚜렷이 대조되는데, 대용량 저장장치에서는 긴 비트열들로 이루어진 블록 단위로 처리한다.

비록 비트 저장 수단으로 플립플롭을 소개하였지만, 대부분의 현대식 컴퓨터에서는 훨씬 작고 빠른 응답시간을 제공하는 다른 기술들을 이용하여 RAM을 만든다.  
플립플롭과 유사하지만 훨씬 더 복잡한 이러한 기술 중 상당수는 빨리 소멸되는 미량의 전하를 사용하여 비트를 저장한다.  
이러한 장치들은 1초 동안에도 수많은 횟수에 걸쳐 반복적으로 전하를 복원하는 재생회로(Refresh circuit)라는 추가 회로를 필요로 한다.  
이러한 휘발성(Volatility)을 반영하여 컴퓨터 메모리를 종종 동적 메모리(Dynamic memory)라고도 부르며,  
그 결과로 DRAM(Dynamic RAM)이라는 용어가 만들어졌다.  
때로 SDRAM(Synchronous DRAM)이라는 용어가 사용되는데, 또 다른 기술을 이용하여 셀을 읽는 시간을 단축시킨 DRAM 종류를 가리킨다.

### 메모리 용량의 측정

전체 셀 개수가 2의 멱승이 되도록 주기억장치를 설계하면 편리하다.  
초창기 컴퓨터들에서는 메모리 크기를 1024(=2¹⁰)셀 단위로 측정했다.  
이 단위를 표시하기 위해 킬로라는 접두사를 채택하였는데, 즉 킬로바이트(KB)라는 용어는 1024바이트를 가리키기 위해 사용하는 단위다.  
유감스럽게도 킬로나 메가 등의 접두사들은 다른 곳에서는 1000의 멱승들을 가리키고 있으므로 용어상의 혼선이 있다.

## 1.3 대용량 기억장치

주기억장치의 휘발성과 제한된 크기 등으로 인해 대부분의 컴퓨터는 보조기억장치라고도 불리는 대용량 저장장치(Mass storage)를 별도로 갖고 있다.  
자기디스크, CD, DVD, 자기테이프, 플래시 드라이브, SSD 등이 포함된다.  

주기억장치에 비해 낮은 휘발성, 큰 저장 용량, 적은 비용 등의 이점을 갖고 있다.

자기 방식이나 광학 방식의 대용량 저장장치들이 갖는 심각한 문제점 중 하나는  
기계적 동작을 요하기 때문에 전자적 동작만을 요하는 주기억장치에 비해 데이터를 읽고 쓰는 속도가 느리다는 것이다.  
또한 기계적 부품을 사용하는 저장장치들은 SSD에 비해 기계적 고장을 일으키기 쉽다.  
플래스 드라이브나 SSD는 기계적 동작에 따른 문제는 없지만, 다른 전자적 문제가 있어 주기억장치에 비해 속도나 수명에 한계가 있다.

### 자기 장치

오랜 기간 동안 자기 기술이 대용량 저장장치 분야를 주도해왔다.  
가장 보편적인 자기 장치의 예는 자기 디스크(Magnetic disk), 즉 하드디스크(Hard disk drive; HDD)다.  

<img src="https://user-images.githubusercontent.com/98504939/170570350-e9b10932-e249-4f2c-9cad-3f56aaf2edbd.jpg" width=50%>

읽기/쓰기 헤드의 위치를 이동시킴으로써 서로 다른 동심원 트랙들에 접근할 수 있다.  
하나의 축에 겹겹이 올려놓은 여러개의 디스크로 이루어지며, 디스크 판들 사이에는 읽기/쓰기 헤드가 이동할 수 있을 만큼 충분한 공간이 있다.  
헤드들은 함께 움직이며, 위치를 변경할 때마다 새로운 실린더에 접근할 수 있게 된다.  
여기서 실린더(Cylinder)는 서로 다른 디스크 면상의 같은 크기의 동심원 트랙들이 모여 이루어진다.  

하나의 디스크 상의 모든 섹터는 같은 수의 비트들을 포함하는데, 각 트랙 당 섹터 수는 일정하다.  
따라서 디스크 바깥쪽 트랙 상의 섹터 안의 비트들은 중심에 가까운 트랙에 비해 저장 밀도가 낮다.  
이러한 특징을 고려하여 바깥쪽 구역의 트랙 당 섹터 수를 늘려 디스크 표면을 보다 효율적으로 활용할 수 있도록 한 것이 ZBR(Zoned-bit recording) 기법이다.

다음은 디스크 장치 성능 측정을 위해 사용되는 값들이다.
1. 탐색시간(Seek time) : 헤드를 한 트랙에서 다른 트랙으로 이동시키는데 필요한 시간
2. 회전지연(Rotational delay) : 디스크가 한 번 회전하는데 필요한 시간의 1/2
3. 접근시간(Access time) : 탐색시간과 회전지연의 합
4. 전송속도(Transfer rate) : 데이터를 디스크로 보내거나 디스크로부터 받아오는 속도
5. 대역폭(Bandwidth) : 단위 시간 동안 전송될 수 있는 총 비트수
6. 대기시간(Latency) : 데이터 전송 요청과 데이터 수신 사이의 총 소요시간

접근시간과 전송속도를 제한하는 한 요소는 디스크 장치가 회전하는 속도다.  
디스크장치에서는 회전속도를 높이기 위해 헤드가 디스크 표면에 닿지 않고 약간 떨어져있다.  
초당 수백회 정도의 회전이 가능하며, 초당 MB 단위로 측정되는 전송속도를 갖는다.

디스크 장치가 작동하려면 물리적 동작이 필요하므로 전자회로에 비해 속도면에서 상당히 느리다.

오늘날 사용 빈도가 크게 줄어든 자기 저장장치에는 자기테이프(Magnetic tape)와 플로피디스크(Floppy disk drive)가 있다.

### 광학 장치

CD(Compact Disk)가 한 예다.  
CD는 반사 표면에 변화를 줌으로써 정보를 기록하며, 회전하는 반사 표면의 불규칙성을 레이저로 탐지함으로써 정보를 읽어올 수 있다.

원래 CD 기술은 CD-DA(Compact Disk-Digital Audio)라는 리코딩 포맷을 사용하는 오디오 리코딩에 응용되었는데,  
오늘날 데이터 저장에 사용되는 CD도 기본적으로 동일한 포맷을 사용한다.  

CD의 트랙은 안쪽에서 시작하여 바깥쪽으로 진행하는 나선형 구조를 띈다.

<img src="http://user-images.githubusercontent.com/98504939/170573532-5cb51545-ead6-45ee-8ade-10f02b4929d9.jpg" width=50%>

CD의 용량을 최대로 이용하기 위해 전체 나선형 트랙 상의 정보 기록 밀도는 일정하게 유지한다. 

CD 저장장치는 음악 재생과 같이 긴 연속적 데이터열을 처리할 때 가장 좋은 성능을 나타낸다.  
반면 임의의 순서로 데이터 항목들을 읽어들여야 하는 응용 프로그램의 경우에는,  
동심원 트랙을 독립적으로 읽을 수 있는 섹터로 분할하고 있는 자기디스크 저장장치를 사용하는 것이 더 적합하다.

일반 CD의 용량은 600MB-700MB 정도다.  
그러나 DVD(Digital Versatile Disk)의 용량은 수 GB에 이르며, BD(Blu-ray Disk)는 DVD의 5배가 넘는 용량을 제공한다.  
초고해상도 동영상을 저장하기 위해서는 이러한 방대한 용량의 저장장치가 필요하다.

CD/DVD/BD 모두 물리적으로 동일한 크기를 가지며, 나선형 트랙 구성도 동일하기 때문에   
다중 레이어를 갖춘 플레이어라면 세 종류의 광학 디스크 모두 읽을 수 있다.

### 플래시 드라이브

## 1.4 비트 패턴을 이용한 정보 표현

### 텍스트 표현
### 수치의 표현
### 이미지의 표현
### 소리의 표현


## 1.5 2진 시스템

### 2진법
### 2진 덧셈
### 분수의 2진법 표현


## 1.6 정수의 저장

### 2의 보수 표기법
### 초과 표기법



## 1.7 분수의 저장

### 부동 소수점 표기법
### 절삭 오차



## 1.8 데이터와 프로그래밍

### 파이썬 개요
### 간단한 파이썬 프로그램
### 변수
### 연산자와 식
### 환전 예제
### 디버깅



## 1.9 데이터 압축

### 일반적인 데이터 압축 기법
### 이미지의 압축
### 오디오 및 비디오의 압축



## 1.10 통신 오류

### 패리티 비트
### 오류 정정 코드
